@startuml
hide circle
skinparam classAttributeIconSize 0

' Define the main package
package "quotely" {

  class Quotely {
     - storage: Storage
     - serializer: JsonSerializer
     - quoteList: QuoteList
     - companyName: CompanyName
     + run()
     - loadDataFromFile()
     - saveDataToFile()
  }

  ' Define the 'storage' sub-package
  package "storage" {
    class Storage {
      - {static} logger: Logger
      - final filePath: Path
      + Storage(String directory, String fileName)
      + getDataFilePath(): Path
      + loadData(): String
      + saveData(String data): void
    }

    class JsonSerializer {
      - {static} logger: Logger
      - final gson: Gson
      + serialize(ApplicationData appData): String
      + deserialize(String json): ApplicationData
    }

    class ApplicationData {
      - quoteList: QuoteList
      - companyName: CompanyName
      + ApplicationData()
      + ApplicationData(QuoteList, CompanyName)
      + getQuoteList(): QuoteList
      + getCompanyName(): CompanyName
    }
  }

  ' Define the 'data' sub-package
  package "data" {
    class QuoteList
    class CompanyName
  }
}

' Define Relationships
' Quotely 'has a' Storage and JsonSerializer
Quotely "1" o-- "1" Storage
Quotely "1" o-- "1" JsonSerializer

' Quotely 'uses' ApplicationData during load/save
Quotely ..> ApplicationData : uses

' JsonSerializer 'uses' ApplicationData
JsonSerializer ..> ApplicationData : uses

' ApplicationData 'has a' QuoteList and CompanyName
ApplicationData "1" o-- "1" QuoteList
ApplicationData "1" o-- "1" CompanyName

@enduml